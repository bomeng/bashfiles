<!doctype html>
<html ng-app="flannel" ng-controller="AppCtrl as app" ng-strict-di>
<!-- ###### HEAD ###### -->
<head>

  <!-- ##### META TAGS ##### -->
  <!-- adding this meta tag to try to snap IE9 out of Quirks mode. note, this must be the first meta tag and ahead of any conditional comments in order to work. http://stackoverflow.com/questions/3449286/force-ie-compatibility-mode-off-in-ie-using-tags -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta charset="UTF-8">

  <!-- <meta name="robots" content="noindex,nofollow"> -->
  <!-- shorter and equivalent to the boilerplate above: -->
  <meta name="robots" content="none">
  <!-- preventing crawls with google's recommended meta tag -->
  <!-- https://developers.google.com/webmasters/control-crawl-index/docs/robots_meta_tag -->

  <!-- ensures that (mobile) browsers don't load the app in a zoomed state -->
  <meta name="viewport" content="initial-scale=1">
  <title ng-bind="app.appTitle">SolarCity</title>
  <!-- ##### META TAGS END ##### -->

  <!-- ##### HEAD STYLES ##### -->
  <!-- if you would like to avoid FOUCs while scripts load -->
  <!-- always load styles before scripts in the head -->
  <!-- ##### HEAD STYLES END ##### -->

  <script src="http://openlayers.org/en/v3.3.0/build/ol-debug.js" type="text/javascript"></script>

  <!-- ##### HEAD SCRIPTS ##### -->
  <!-- ##### HEAD SCRIPTS END ##### -->

  <!-- google maps -->
  <!-- <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=places&sensor=false&client=#{app.gmapClient}"></script> -->
  <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=places&sensor=false"></script>

  <!-- Apercu fonts from FontDeck -->
  <!-- TODO: prevent a FOUT -->
  <!-- TODO: lessen 2s load lags -->
  <script type="text/javascript">
    WebFontConfig = { fontdeck: { id: '50798' } };
    (function() {
      var wf = document.createElement('script');
      wf.src = ('https:' == document.location.protocol ? 'https' : 'http') + '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
      wf.type = 'text/javascript';
      wf.async = 'true';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(wf, s);
      s.parentNode.insertBefore(wf, s);
    })();
  </script>

  <!-- SALESFORCE LIVEAGENT -->
  <script src='https://c.la3-c2cs-chi.salesforceliveagent.com/content/g/js/32.0/deployment.js'></script>
</head>

<!-- TODO: apply ng-cloak only to divs that need it -->
<body ng-cloak ng-controller="StageCtrl as stages">

  <fln-analytics analytics-id="app.analyticsId"></fln-analytics>

  <div fln-dev-tools ng-show="app.isInDevMode" ng-class="{shown: devPanelShown}" class="dev-drawer inverse"></div>
  <div fln-oda-tools ng-show="app.isInOdaMode" ng-class="{shown: odaPanelShown}" class="oda-drawer inverse"></div>

  <header ui-view name="header" id="header" class="header"></header>

  <form fln-form novalidate name="prospectForm" class="prospect-form" ng-class="{ 'form-fixed': stages.fixed }">
    <main ui-view name="main" id="main" class="main" ng-class="{ 'main-fixed': stages.fixed }"></main>
  </form>

  <fln-help ng-show="stages.helpActivated" shown="false" ng-class="{shown: shown}"></fln-help>

  <footer ui-view name="footer" id="footer" class="footer row" ng-class="{ 'footer-fixed': stages.fixed }"></footer>

  <div fln-modal class="modal" ng-show="modal.isOn()" ng-click=""></div>

  <!-- ##### TAIL SCRIPTS ##### -->
  <!-- ##### TAIL SCRIPTS END ##### -->

</body>

</html>
